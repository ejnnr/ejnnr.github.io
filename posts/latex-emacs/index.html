<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>Emacs as an amazing LaTeX editor :: Erik Jenner</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="The purpose of this post is to point you towards some great features and packages if you&amp;rsquo;re already using Emacs to edit LaTeX, and to make you jealous if you&amp;rsquo;re using some other editor1.
This isn&amp;rsquo;t a tutorial for Emacs or even a tutorial on how to write LaTeX inside Emacs. Rather, it&amp;rsquo;s supposed to give an idea of what&amp;rsquo;s possible, either as inspiration or to convince you to give Emacs a try."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://ejnnr.github.io/posts/latex-emacs/" />





<link rel="stylesheet" href="https://ejnnr.github.io/assets/style.css">


<link rel="stylesheet" href="https://ejnnr.github.io/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://ejnnr.github.io/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="https://ejnnr.github.io/img/favicon.png">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Emacs as an amazing LaTeX editor"/>
<meta name="twitter:description" content="  Emacs has some really amazing features for writing LaTeX; this post gives
  an overview of some of them, either to convince you to give Emacs a try,
  or to make you aware that these features exist if you&#39;re already using
  Emacs but didn&#39;t know about them.
  "/>



<meta property="og:title" content="Emacs as an amazing LaTeX editor" />
<meta property="og:description" content="  Emacs has some really amazing features for writing LaTeX; this post gives
  an overview of some of them, either to convince you to give Emacs a try,
  or to make you aware that these features exist if you&#39;re already using
  Emacs but didn&#39;t know about them.
  " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ejnnr.github.io/posts/latex-emacs/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-17T14:14:00&#43;01:00" />
<meta property="article:modified_time" content="2021-03-17T14:14:00&#43;01:00" /><meta property="og:site_name" content="Erik Jenner" />







  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367"/>
</svg>
</span>
    <span class="logo__text">Erik Jenner</span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title"><a href="https://ejnnr.github.io/posts/latex-emacs/">Emacs as an amazing LaTeX editor</a></h1>
    <div class="post-meta">
      
        <span class="post-date">
          2021-03-17
        </span>

        
          
        
      

      
      
        <span class="post-read-time">— 6 min read</span>
      
    </div>

    

    

    <div class="post-content">
      
      <p>The purpose of this post is to point you towards some great features
and packages if you&rsquo;re already using Emacs to edit LaTeX, and to
make you jealous if you&rsquo;re using some other editor<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p>This isn&rsquo;t a tutorial for Emacs or even a tutorial on how to write LaTeX inside
Emacs. Rather, it&rsquo;s supposed to give an idea of what&rsquo;s possible, either
as inspiration or to convince you to give Emacs a try. One problem is
that setting all of this up can be a huge time sink, so you might want
to use a framework such as <a href="https://github.com/hlissner/doom-emacs">Doom</a>, where you just need to enable the LaTeX
module and get almost everything I describe here.</p>
<h2 id="the-basics">The basics</h2>
<p>Of course you get all the basics you would expect from a LaTeX editor.
Synctex is supported (meaning you can jump from a certain line in the
LaTeX code to the corresponding place inside your PDF viewer and the other
way around), you can compile files from inside emacs, you can jump to
compilation errors if there are any, there is auto-completion and so on.</p>
<h2 id="visuals">Visuals</h2>
<p>LaTeX can produce beautiful documents, but the source code isn&rsquo;t very
readable when writing mathematical expressions:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-latex" data-lang="latex">  <span style="color:#66d9ef">\alpha</span> <span style="color:#66d9ef">\mapsto</span> <span style="color:#66d9ef">\int</span>_{<span style="color:#66d9ef">\R</span>}e^{-<span style="color:#66d9ef">\alpha</span> x^2}<span style="color:#66d9ef">\,</span>dx
</code></pre></div><p>Emacs and AUCTeX (which is the de-facto standard package for using LaTeX inside
Emacs) have several features that improve this situation:</p>
<ul>
<li><code>preview-latex</code> replaces equations (and other parts of the LaTeX document)
with images by compiling them. This means they look exactly the same inside
the editor as they will in the compiled document. When the cursor is on
an equation, this image preview is automatically replaced by the underlying text so you can
still easily edit equations. However, this method of course has a noticeable
delay because it requires a call to the LaTeX compiler.</li>
<li>LaTeX superscripts and subscripts are displayed as super-/subscripts inside the editor.
This is a purely visual feature, editing them doesn&rsquo;t require &ldquo;entering&rdquo; or &ldquo;exiting&rdquo;
the subscript or anything like that.</li>
<li><code>prettify-symbols-mode</code> allows you to replace any string with any unicode symbol.
AUCTeX comes with a fairly comprehensive predefined list, which replaces LaTeX commands
such as greek letters, arrows and others with symbolic representations. But you
can also add your own. For example, the example above uses <code>\R</code>, which my custom style
file defines as <code>\mathbb{R}</code>, and it&rsquo;s possible to add replacement rules for such custom
commands (as long as there is a fitting Unicode symbol). This makes the line above
look like this in my editor:
<img src="/ox-hugo/_20210317_140709screenshot.png" alt="">
When the cursor moves over one of those Unicode symbols, it is expanded to the underlying
text. And the nice thing about this is that it&rsquo;s essentially instantaneous because nothing
needs to be compiled.</li>
<li><em>Folding</em> is something similar but more general (though unlike <code>prettify-symbols-mode</code> it&rsquo;s specific to LaTeX).
It doesn&rsquo;t just allow replacing fixed strings but also more complicated
expressions. By default, this is used for example to display <code>\label{some_label}</code> as <code>[l]</code>
(which as always expands when the cursor moves over it). The reasoning here is that
some elements such as labels are just distractions when reading LaTeX source code.
But you can also use this to further improve how math is displayed, see
<a href="https://tecosaur.github.io/emacs-config/config.html#editor-visuals">this config</a> for some ideas (and in general for more ideas on how to
beautify LaTeX inside Emacs).</li>
</ul>
<h2 id="editing">Editing</h2>
<p>AUCTeX has a couple of nice features that make typing LaTeX a bit easier.
For example, you can let it automatically insert braces <code>{}</code> when typing <code>_</code> or <code>^</code>
inside a math environment, you can let it insert <code>\(\)</code> when typing a dollar sign,
and even <code>\enquote{}</code> when typing <code>&quot;</code> <sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>.</p>
<p>But things get even better with the <a href="https://github.com/iyefrat/evil-tex"><code>evil-tex</code></a> package. As the name suggests,
this is only relevant if you&rsquo;re using <code>evil-mode</code> (vim keybindings inside emacs),
but if so, it&rsquo;s definitely worth trying. Just a few examples of what this allows
you to do:</p>
<ul>
<li>
<p>Say you&rsquo;ve typed</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-latex" data-lang="latex">  <span style="color:#e6db74">\(</span>ax^{<span style="color:#ae81ff">2</span>} <span style="color:#f92672">+</span> b<span style="color:#e6db74">\)</span>
</code></pre></div><p>and suddenly realize that this is supposed to go into an exponent. With your cursor
anywhere on this math environment, type <code>ysim^</code> (&ldquo;surround everything inside the math
environment as an exponent&rdquo;) and you&rsquo;ll get</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-latex" data-lang="latex">  <span style="color:#e6db74">\(</span>^{ax^{<span style="color:#ae81ff">2</span>} <span style="color:#f92672">+</span> b}<span style="color:#e6db74">\)</span>
</code></pre></div><p>with the cursor at the <code>^</code>. Now you just need to enter the base.</p>
</li>
<li>
<p>Your equations is now</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-latex" data-lang="latex">  <span style="color:#e6db74">\(</span>e^{ax^{<span style="color:#ae81ff">2</span>} <span style="color:#f92672">+</span> b}<span style="color:#e6db74">\)</span>
</code></pre></div><p>and you decide that this merits its own displayed rather than
inline equation. So you type <code>csmee</code> (&ldquo;change the surrounding math environment
to <code>equation</code>&quot;) and get</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-latex" data-lang="latex">  <span style="color:#66d9ef">\begin</span>{equation}
  e^{ax^{2} + b}
  <span style="color:#66d9ef">\end</span>{equation}
</code></pre></div></li>
<li>
<p>After a bit more editing, you have (for some reason)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-latex" data-lang="latex">  <span style="color:#66d9ef">\begin</span>{equation}
  <span style="color:#66d9ef">\beta</span>(e^{ax^{2} + b} + <span style="color:#66d9ef">\frac</span>{1}{x})
  <span style="color:#66d9ef">\end</span>{equation}
</code></pre></div><p>Of course this looks ugly in the compiled document, you need to use <code>\left(</code> and <code>\right)</code>.
With <code>evil-tex</code>, you can just type <code>mtd</code> (&ldquo;toggle delimiter&rdquo;) with the cursor anywhere
inside the parantheses, and it will add <code>\left</code> and <code>\right</code> for you. Type <code>mtd</code> again to
go back to just the parantheses.</p>
</li>
</ul>
<h2 id="emacs-calc-s-embedded-mode">Emacs calc&rsquo;s embedded mode</h2>
<p><code>calc</code> is the built-in calculator for Emacs; though saying &ldquo;calculator&rdquo;
is a bit misleading because it can do symbolic differentiation, unit conversion,
linear algebra and more. If your press <code>C-x * e</code> with your cursor on any LaTeX equation,
you will start <code>calc</code> in &ldquo;embedded mode&rdquo;. This means that <code>calc</code> will parse the LaTeX
code and then let you do any calculations you want involving the expression.
The result will automatically be converted back to LaTeX and written into the
buffer.</p>
<p>For example, say you have</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-latex" data-lang="latex"><span style="color:#e6db74">\[</span>\sin\left<span style="color:#f92672">(</span> x^<span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> \sqrt{x} \right<span style="color:#f92672">)</span><span style="color:#e6db74">\]</span>
</code></pre></div><p>and want to know the derivative. You can enter embedded mode and type <code>ad</code> to differentiate,
then type <code>x</code> when prompted for the variable with respect to which to differentiate.
And just like that, you will have</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-latex" data-lang="latex"><span style="color:#e6db74">\[</span>\left<span style="color:#f92672">(</span> <span style="color:#ae81ff">2</span> x <span style="color:#f92672">+</span> \frac{<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">5</span>}{\sqrt{x}} \right<span style="color:#f92672">)</span> \cos\left<span style="color:#f92672">(</span> x^<span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> \sqrt{x} \right<span style="color:#f92672">)</span><span style="color:#e6db74">\]</span>
</code></pre></div><p>inside your buffer. <code>calc</code> can even parse and output things like <code>\begin{pmatrix}...\end{pmatrix}</code>,
so you can multiply matrices as well.</p>
<h2 id="and-more">And more</h2>
<p>I&rsquo;ve only covered some of my personal favorite features when it comes to
writing LaTeX inside Emacs, there&rsquo;s much more. For example, <code>LaTeX-math-mode</code> allows
you to very quickly enter mathematical symbols and RefTeX as well as other packages
make handling references, labels and citations very efficient.
And of course there are a gazillion other packages that can make writing LaTeX
easier &ndash; this is Emacs after all.</p>
<p>The downside is of course that there is a pretty steep learning curve.
But for people who need to write LaTeX documents all the time, I&rsquo;d argue
it&rsquo;s worth it.</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Though mostly the first part &ndash; I haven&rsquo;t actually tried many others and they may be just as amazing.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Using <code>TeX-electric-sub-and-superscript</code>, <code>TeX-electric-math</code>, and <code>LaTeX-csquotes-open-quote</code> / <code>LaTeX-csquotes-close-quote</code>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h">Read other posts</span>
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="https://ejnnr.github.io/posts/state-formally-reason-informally/">
                  <span class="button__icon">←</span>
                  <span class="button__text">State formally, reason informally</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="https://ejnnr.github.io/posts/spherical-harmonics/">
                  <span class="button__text">Perspectives on spherical harmonics</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    


    
      
        

      
    

    </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user"><div><a href='/legal'>Legal</a></div><div>Powered by Hugo. Theme: Hello Friend by panr</div></div>
    
  </div>
</footer>

<script src="https://ejnnr.github.io/assets/main.js"></script>
<script src="https://ejnnr.github.io/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
